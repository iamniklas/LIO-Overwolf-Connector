<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../css/general.css" />
    <link rel="stylesheet" href="../../css/header.css" />
    <link rel="stylesheet" href="../../css/ingame.css" />
    <link rel="stylesheet" href="../../css/modal.css" />
    <title>Overwolf Sample App - In-Game page</title>
  </head>
  <body class="in-game">
    <!-- -------------------------------- Header ------------------------------- -->

    <header class="app-header">
      <img src="../../img/header_icon.svg" />
      <h1>Sample App / in-game window</h1>
      <h1 style="margin: auto;">
        Show/Hide Hotkey:
        <span id="hotkey" style="font-weight: bold; color: white;"></span>
      </h1>
      <div class="window-controls-group">
        <button class="icon window-control" id="minimizeButton">
          <svg>
            <use xlink:href="/img/header_icons.svg#window-control_minimize" />
          </svg>
        </button>
        <button
          class="icon window-control window-control-close"
          id="closeButton"
        >
          <svg>
            <use xlink:href="/img/header_icons.svg#window-control_close" />
          </svg>
        </button>
      </div>
    </header>

    <!-- --------------------------------- Main -------------------------------- -->
    <main>
      <div id="logs">
        <div id="events" class="logColumn">
          <h1>Game Events</h1>
          <div id="eventsLog" class="dataText">
          </div>
          <button id="copyEvents" class="logCopy">
            COPY GAME EVENTS
          </button>
        </div>
        <div id="infoUpdates" class="logColumn">
          <h1>Info Updates</h1>
          <div id="infoLog" class="dataText"></div>
          <button id="copyInfo" class="logCopy">
            COPY INFO UPDATES
          </button>
        </div>
      </div>
      <div id="other">
        <h1>Real time Game Data</h1>
        <p id="infoParagraph">
          This app is the in-game Controller. It listens to game events and sends communicates with the LED API.
        </p>

        <div style="display: inline-block">
          <div>
            <input id="input_leddeviceip" style="height: 40px" placeholder="LED Device IP" />
            <button style="height: 40px" onclick="saveDeviceIP()">Save Adress</button>
          </div>
          
          <p></p>
          <p id="ipaddress_hint">Using IP: </p>
          
          <button style="width: 100%; height: 40px;" onclick="runRainbowProcedure()">Rainbow</button>
          <div style="height: 10px;"></div>
          <button style="width: 100%; height: 40px;" onclick="runColorWhiteInstantProcedure()">White</button>
        </div>

        <label for="targetip" style="color: white;">Target Device IP</label>
        <input id="targetip" type="text" placeholder="192.168.178.60" />
        <div style="height: 20px;"></div>

        <button id="testdemolishbutton">Test Demolish</button>
        <div style="height: 5px;"></div>
        <button id="testbluebutton">Test Blue Goal</button>
        <div style="height: 5px;"></div>
        <button id="testorangebutton">Test Orange Goal</button>
      </div>
    </main>

    <script src="../../lib/require.js"></script>
    <script>
      require(["in-game-controller"], function(InGameController) {
        console.log(`[INIT] in-game module loaded`);
        const inGameController = new InGameController();
        inGameController.run();
        console.log('Hello there');
      }, function(error) {
        console.log(`[INIT] failed to load in-game module ${error}`);
      });
    </script>
  </body>
</html>
